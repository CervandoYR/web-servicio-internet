{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex justify-content-center align-items-center min-vh-100\"\n};\nconst _hoisted_2 = {\n  class: \"contact-page container p-5 shadow rounded-3 bg-light\"\n};\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"text-center\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Field = _resolveComponent(\"Field\");\n  const _component_ErrorMessage = _resolveComponent(\"ErrorMessage\");\n  const _component_Form = _resolveComponent(\"Form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", {\n    class: \"text-center mb-4 text-primary fw-bold\"\n  }, \"Contáctanos\", -1 /* HOISTED */)), _cache[8] || (_cache[8] = _createElementVNode(\"p\", {\n    class: \"text-center text-muted mb-5\"\n  }, \" Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio ipsum tempore, recusandae officia sapiente, tempora eos enim nihil voluptatibus repudiandae, ipsam assumenda eius blanditiis! Nulla, consectetur consequuntur. Obcaecati, dignissimos cupiditate. \", -1 /* HOISTED */)), _createVNode(_component_Form, {\n    onSubmit: $options.submitForm,\n    class: \"animate__animated animate__fadeIn\"\n  }, {\n    default: _withCtx(({\n      meta\n    }) => [_createElementVNode(\"div\", _hoisted_3, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n      for: \"name\",\n      class: \"form-label text-primary fw-semibold\"\n    }, \"Nombre\", -1 /* HOISTED */)), _createVNode(_component_Field, {\n      type: \"text\",\n      class: \"form-control border-primary\",\n      id: \"name\",\n      name: \"name\",\n      rules: \"required|onlyLetters\",\n      modelValue: $data.name,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event)\n    }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"name\",\n      class: \"text-danger small mt-1 d-block\"\n    })]), _createElementVNode(\"div\", _hoisted_4, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n      for: \"email\",\n      class: \"form-label text-primary fw-semibold\"\n    }, \"Correo Electrónico\", -1 /* HOISTED */)), _createVNode(_component_Field, {\n      type: \"email\",\n      class: \"form-control border-primary\",\n      id: \"email\",\n      name: \"email\",\n      rules: \"required|email\",\n      modelValue: $data.email,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.email = $event)\n    }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"email\",\n      class: \"text-danger small mt-1 d-block\"\n    })]), _createElementVNode(\"div\", _hoisted_5, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n      for: \"message\",\n      class: \"form-label text-primary fw-semibold\"\n    }, \"Mensaje\", -1 /* HOISTED */)), _createVNode(_component_Field, {\n      as: \"textarea\",\n      class: \"form-control border-primary fixed-textarea\",\n      id: \"message\",\n      name: \"message\",\n      rules: \"required|textWithNumbers\",\n      modelValue: $data.message,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.message = $event)\n    }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"message\",\n      class: \"text-danger small mt-1 d-block\"\n    })]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary px-5 py-2\",\n      disabled: !meta.valid || $data.isSubmitting\n    }, [$data.isSubmitting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _cache[6] || (_cache[6] = [_createElementVNode(\"span\", {\n      class: \"spinner-border spinner-border-sm me-2\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Enviando... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \"Enviar\"))], 8 /* PROPS */, _hoisted_7)])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onSubmit\"])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Form","onSubmit","$options","submitForm","default","_withCtx","meta","_hoisted_3","for","_component_Field","type","id","name","rules","modelValue","$data","_cache","$event","_component_ErrorMessage","_hoisted_4","email","_hoisted_5","as","message","_hoisted_6","disabled","valid","isSubmitting","_hoisted_8","_createTextVNode","_hoisted_9","_hoisted_7","_"],"sources":["C:\\Users\\yacta\\Desktop\\S16_TG_JS ULT\\frontend\\src\\views\\ContactPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"d-flex justify-content-center align-items-center min-vh-100\">\r\n    <div class=\"contact-page container p-5 shadow rounded-3 bg-light\">\r\n      <h1 class=\"text-center mb-4 text-primary fw-bold\">Contáctanos</h1>\r\n      <p class=\"text-center text-muted mb-5\">\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio ipsum tempore, recusandae officia sapiente, tempora eos enim nihil voluptatibus repudiandae, ipsam assumenda eius blanditiis! Nulla, consectetur consequuntur. Obcaecati, dignissimos cupiditate.\r\n      </p>\r\n      \r\n      <Form @submit=\"submitForm\" v-slot=\"{ meta }\" class=\"animate__animated animate__fadeIn\">\r\n        <div class=\"mb-4\">\r\n          <label for=\"name\" class=\"form-label text-primary fw-semibold\">Nombre</label>\r\n          <Field type=\"text\" class=\"form-control border-primary\" id=\"name\" name=\"name\" rules=\"required|onlyLetters\" v-model=\"name\" />\r\n          <ErrorMessage name=\"name\" class=\"text-danger small mt-1 d-block\" />\r\n        </div>\r\n        \r\n        <div class=\"mb-4\">\r\n          <label for=\"email\" class=\"form-label text-primary fw-semibold\">Correo Electrónico</label>\r\n          <Field type=\"email\" class=\"form-control border-primary\" id=\"email\" name=\"email\" rules=\"required|email\" v-model=\"email\" />\r\n          <ErrorMessage name=\"email\" class=\"text-danger small mt-1 d-block\" />\r\n        </div>\r\n        \r\n        <div class=\"mb-4\">\r\n          <label for=\"message\" class=\"form-label text-primary fw-semibold\">Mensaje</label>\r\n          <Field as=\"textarea\" class=\"form-control border-primary fixed-textarea\" id=\"message\" name=\"message\" rules=\"required|textWithNumbers\" v-model=\"message\" />\r\n          <ErrorMessage name=\"message\" class=\"text-danger small mt-1 d-block\" />\r\n        </div>\r\n        \r\n        <div class=\"text-center\">\r\n          <button type=\"submit\" class=\"btn btn-primary px-5 py-2\" :disabled=\"!meta.valid || isSubmitting\">\r\n            <span v-if=\"isSubmitting\">\r\n              <span class=\"spinner-border spinner-border-sm me-2\"></span> Enviando...\r\n            </span>\r\n            <span v-else>Enviar</span>\r\n          </button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { Form, Field, ErrorMessage, defineRule, configure } from \"vee-validate\";\r\nimport { required, email } from \"@vee-validate/rules\";\r\n\r\n// Reglas personalizadas\r\ndefineRule(\"onlyLetters\", (value) => {\r\n  const onlyLettersRegex = /^[a-zA-ZáéíóúÁÉÍÓÚñÑ\\s]+$/;\r\n  if (!value) return true;\r\n  return onlyLettersRegex.test(value) || \"El nombre no debe contener números\";\r\n});\r\n\r\ndefineRule(\"textWithNumbers\", (value) => {\r\n  const onlyNumbersRegex = /^[0-9]+$/;\r\n  if (!value) return true;\r\n  return !onlyNumbersRegex.test(value) || \"El mensaje no puede ser solo números\";\r\n});\r\n\r\n// Reglas base\r\ndefineRule(\"required\", required);\r\ndefineRule(\"email\", email);\r\n\r\n// Configuración de mensajes en español\r\nconfigure({\r\n  generateMessage: (context) => {\r\n    const messages = {\r\n      required: `El campo ${context.field} es obligatorio.`,\r\n      email: \"Por favor, introduce un correo electrónico válido.\",\r\n      onlyLetters: \"El nombre no debe contener números\",\r\n      textWithNumbers: \"El mensaje no puede ser solo números\",\r\n    };\r\n    return messages[context.rule.name] || `Error en el campo ${context.field}`;\r\n  },\r\n});\r\n\r\nexport default {\r\n  name: \"ContactPage\",\r\n  components: {\r\n    Form,\r\n    Field,\r\n    ErrorMessage,\r\n  },\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      message: \"\",\r\n      isSubmitting: false, // Estado para la animación de \"Enviando...\"\r\n    };\r\n  },\r\n  methods: {\r\n    async submitForm({ resetForm }) {\r\n      this.isSubmitting = true; // Activar animación\r\n      try {\r\n        const response = await axios.post(\"/api/contact\", {\r\n          name: this.name,\r\n          email: this.email,\r\n          message: this.message,\r\n        });\r\n\r\n        console.log(\"Formulario enviado con éxito:\", response.data);\r\n        alert(\"Mensaje enviado correctamente\");\r\n\r\n        // Limpiar los campos y resetear validaciones\r\n        resetForm();\r\n      } catch (error) {\r\n        console.error(\r\n          \"Error al enviar el formulario:\",\r\n          error.response ? error.response.data : error.message\r\n        );\r\n        alert(\"Error al enviar el formulario. Intente nuevamente.\");\r\n      } finally {\r\n        this.isSubmitting = false; // Ocultar animación\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.contact-page {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 60px;\r\n}\r\n\r\n.fixed-textarea {\r\n  height: 180px;\r\n  resize: none;\r\n}\r\n\r\n.form-control {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.form-label {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.error-message {\r\n  font-size: 0.9rem;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}